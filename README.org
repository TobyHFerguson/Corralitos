#+TITLE: Oracle Linux 6U5 Minimal BTRFS UEK Build
#+STARTUP: showall nohideblocks
* Overview
This build will construct an OL6U5 vagrant box with the following properties:
+ Minimal
+ Btrfs / filesystem
+ UEK
* Operation
** Building the box
Build thus:
#+BEGIN_SRC sh
~/packer/packer build template.json
#+END_SRC
This will build a box in the current directory called =ol6u5-minimal-btrfs-uek.box=
** Publishing the box
*** Locally
#+BEGIN_SRC sh
vagrant box add --force ol6u5-minimal-btrfs-uek ol6u5-minimal-btrfs-uek.box
#+END_SRC
*** To =tobyhferguson.org=
#+BEGIN_SRC sh
scp ol6u5-minimal-btrfs-uek.box tobyhfer@tobyhferguson.org:public_html/
#+END_SRC
*** To =Atlas=
I don't think this works yet.
#+BEGIN_SRC sh
vagrant push
#+END_SRC
** Access the box
*** From =tobyhferguson.org=
Add the following in your =Vagrantfile= to download from =tobyhferguson.org=
#+BEGIN_SRC ruby
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = "ol6u5-minimal-btrfs-uek"
  config.vm.box_url = "http://tobyhferguson.org/oracle-6-5-x64-virtualbox.box"
end
#+END_SRC
*** From =Atlas=
#+BEGIN_SRC ruby
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = "tobyhferguson/ol6u5-minimal-btrfs-uek"
end
#+END_SRC
